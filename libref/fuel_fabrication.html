
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Fuel Fabrication Class &mdash; bright v0.6 documentation</title>
    <link rel="stylesheet" href="../_static/altered_nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="bright v0.6 documentation" href="../index.html" />
    <link rel="up" title="Library Reference" href="index.html" />
    <link rel="next" title="Fluence Point Class" href="fluence_point.html" />
    <link rel="prev" title="Enrichment" href="enrichment.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fluence_point.html" title="Fluence Point Class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="enrichment.html" title="Enrichment"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">bright v0.6 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Library Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="fuel-fabrication-class">
<span id="bright-fuel-fabrication"></span><h1>Fuel Fabrication Class<a class="headerlink" href="#fuel-fabrication-class" title="Permalink to this headline">¶</a></h1>
<p>Bright deals with fuel fabrication as an explicit fuel cycle component object.
This makes explicit the feedback effect between the Reactor component and what
fuel is emplaced in the reactor.</p>
<p>A reactor operator orders fuel based on a target FuelFabrication, but the fuel
fabricator has to know about the sepecifics of the reactor core to be able
to successfully construct an appropriate fuel.</p>
<p>Unlike most fuel cycle components, including the reactor object, fuel
fabrication facilities may take more than input mass stream.  The fuel
fabricator adjusts the mass ratios of these streams to calculate the
required core input mass stream.</p>
<p>Therefore this component does an optimization calculation to determine the
correct reactor input given some set of available fuels. Currently,
only two streams of all of the available are allowed to vary.  In the future,
a more sophisticated optimizer may be implemented.</p>
<p>All functionality may be found in the <tt class="docutils literal"><span class="pre">fuel_fabrication</span></tt> module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">bright.fuel_fabrication</span>
</pre></div>
</div>
<dl class="class">
<dt id="bright.fuel_fabrication.FuelFabrication">
<em class="property">class </em><tt class="descclassname">bright.fuel_fabrication.</tt><tt class="descname">FuelFabrication</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuel Fabrication Fuel Cycle Component Class.  Daughter of FCComp class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>materials</strong> : dict or map or None, optional</p>
<blockquote>
<div><p>A dictionary whose keys are string labels (eg, &#8220;U-235&#8221;, &#8220;TRU&#8221;, &#8220;My Fuel&#8221;) 
and whose values are mass streams.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;U235&quot;</span><span class="p">:</span> <span class="n">Material</span><span class="p">({</span><span class="mi">922350</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&quot;U-235&quot;</span><span class="p">),</span>
    <span class="s">&quot;U236&quot;</span><span class="p">:</span> <span class="n">Material</span><span class="p">({</span><span class="mi">922360</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&quot;U-236&quot;</span><span class="p">),</span>
    <span class="s">&quot;U238&quot;</span><span class="p">:</span> <span class="n">Material</span><span class="p">({</span><span class="mi">922380</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&quot;U-238&quot;</span><span class="p">),</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>would be valid for a light water reactor.</p>
</div></blockquote>
<p><strong>mass_weights_in</strong> : dict or map or None, optional</p>
<blockquote>
<div><p>A dictionary whose keys are the same as for materials and whose values are the 
associated weight (float) for that stream.  If a material should be allowed to 
vary (ie optimized over), specify its weight as a negative number. For instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mass_weights_in</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;U235&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="s">&quot;U236&quot;</span><span class="p">:</span> <span class="mf">0.005</span><span class="p">,</span>
    <span class="s">&quot;U238&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>        
    <span class="p">}</span>
</pre></div>
</div>
<p>would be valid for a light water reactor with half a percent of U-236 always present.</p>
</div></blockquote>
<p><strong>reactor</strong> : Reactor1G or None, optional</p>
<blockquote>
<div><p>An instance of a Reactor1G class to fabricate fuel for.</p>
</div></blockquote>
<p><strong>track_params</strong> : list of str or None, optional</p>
<blockquote>
<div><p>Additional parameters to track, if any.</p>
</div></blockquote>
<p><strong>name</strong> : str, optional</p>
<blockquote class="last">
<div><p>The name of the fuel fabrication fuel cycle component instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.materials">
<tt class="descname">materials</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.materials" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping of materials which are mixed to create a valid fuel form for reactor.</p>
</dd></dl>

<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.mass_weights_in">
<tt class="descname">mass_weights_in</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.mass_weights_in" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping representing the initial specification of the mass weights.  
Exactly two of these should have negative values.</p>
</dd></dl>

<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.mass_weights_out">
<tt class="descname">mass_weights_out</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.mass_weights_out" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping representing the mass weights that are calculated to generate a valid fuel 
from the materials  provided.</p>
</dd></dl>

<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.deltaRs">
<tt class="descname">deltaRs</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.deltaRs" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping representing the deltaR values of each of the materials.</p>
</dd></dl>

<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.reactor">
<tt class="descname">reactor</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.reactor" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of a Reactor1G class that the mat_prod is valid as a fuel for.</p>
</dd></dl>

<dl class="attribute">
<dt id="bright.fuel_fabrication.FuelFabrication.track_params">
<tt class="descname">track_params</tt><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.track_params" title="Permalink to this definition">¶</a></dt>
<dd><p>For FuelFabrication, the parameters that are automatically tracked are
the keys of <tt class="xref py py-attr docutils literal"><span class="pre">mass_streams</span></tt> preceded by <tt class="docutils literal"><span class="pre">Weight_</span></tt> and <tt class="docutils literal"><span class="pre">deltaR_</span></tt>.  For
instance, <tt class="docutils literal"><span class="pre">[&quot;Weight_U235&quot;,</span> <span class="pre">&quot;deltaR_U235&quot;,</span> <span class="pre">&quot;Weight_U238&quot;,</span> <span class="pre">&quot;deltaR_U238&quot;]</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.initialize">
<tt class="descname">initialize</tt><big>(</big><em>materials</em>, <em>mass_weights_in</em>, <em>reactor</em><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize() method takes the appropriate materials, input mass weights,
and a reactor and resets the current FuelFabrication instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>materials</strong> : dict</p>
<blockquote>
<div><p>A dictionary whose keys are string labels and whose values are mass streams.</p>
</div></blockquote>
<p><strong>mass_weights_in</strong> : dict</p>
<blockquote>
<div><p>A dictionary whose keys are the same as for materials and whose values are the 
associated weight (float) for that stream.</p>
</div></blockquote>
<p><strong>reactor</strong> : Reactor1G</p>
<blockquote class="last">
<div><p>An instance of a Reactor1G class to fabricate fuel for.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.calc">
<tt class="descname">calc</tt><big>(</big><em>materials=None</em>, <em>mass_weights_in=None</em>, <em>reactor=None</em><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.calc" title="Permalink to this definition">¶</a></dt>
<dd><p>This method performs an optimization calculation on all input materials to determine
the mass ratios that generate the correct fuel form for the reactor.  It then compiles 
the fuel and returns the resultant material.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>materials</strong> : dict or None, optional</p>
<blockquote>
<div><p>A dictionary whose keys are string labels and whose values are materials.</p>
</div></blockquote>
<p><strong>mass_weights_in</strong> : dict or None, optional</p>
<blockquote>
<div><p>A dictionary whose keys are the same as for materials and whose values are 
the associated weight (float) for that material.</p>
</div></blockquote>
<p><strong>reactor</strong> : Reactor1G or None, optional</p>
<blockquote>
<div><p>An instance of a Reactor1G class to fabricate fuel for.</p>
</div></blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>core_input</strong> : Material</p>
<blockquote class="last">
<div><p>mat_prod</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.calc_params">
<tt class="descname">calc_params</tt><big>(</big><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.calc_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Here the parameters for FuelFabrication are set.  
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">params_prior_calc</span><span class="p">[</span><span class="s">&quot;Weight_U235&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass_weights_in</span><span class="p">[</span><span class="s">&quot;U235&quot;</span><span class="p">]</span>
<span class="bp">self</span><span class="o">.</span><span class="n">params_after_calc</span><span class="p">[</span><span class="s">&quot;Weight_U235&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass_weights_out</span><span class="p">[</span><span class="s">&quot;U235&quot;</span><span class="p">]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">params_prior_calc</span><span class="p">[</span><span class="s">&quot;deltaR_U235&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deltaRs</span><span class="p">[</span><span class="s">&quot;U235&quot;</span><span class="p">]</span>
<span class="bp">self</span><span class="o">.</span><span class="n">params_after_calc</span><span class="p">[</span><span class="s">&quot;deltaR_U235&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deltaRs</span><span class="p">[</span><span class="s">&quot;U235&quot;</span><span class="p">]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">params_prior_calc</span><span class="p">[</span><span class="s">&quot;Weight_U238&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass_weights_in</span><span class="p">[</span><span class="s">&quot;U238&quot;</span><span class="p">]</span>
<span class="bp">self</span><span class="o">.</span><span class="n">params_after_calc</span><span class="p">[</span><span class="s">&quot;Weight_U238&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass_weights_out</span><span class="p">[</span><span class="s">&quot;U238&quot;</span><span class="p">]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">params_prior_calc</span><span class="p">[</span><span class="s">&quot;deltaR_U238&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deltaRs</span><span class="p">[</span><span class="s">&quot;U238&quot;</span><span class="p">]</span>
<span class="bp">self</span><span class="o">.</span><span class="n">params_after_calc</span><span class="p">[</span><span class="s">&quot;deltaR_U238&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deltaRs</span><span class="p">[</span><span class="s">&quot;U238&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.calc_deltaRs">
<tt class="descname">calc_deltaRs</tt><big>(</big><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.calc_deltaRs" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes deltaRs for each mass stream.</p>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.calc_core_input">
<tt class="descname">calc_core_input</tt><big>(</big><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.calc_core_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the core input material that becomes mat_prod based on materials and 
mass_weights_out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>core_input</strong> : Material</p>
<blockquote class="last">
<div><p>mat_prod.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bright.fuel_fabrication.FuelFabrication.calc_mass_ratios">
<tt class="descname">calc_mass_ratios</tt><big>(</big><big>)</big><a class="headerlink" href="#bright.fuel_fabrication.FuelFabrication.calc_mass_ratios" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mass_weights_out by varying the values of the two parameter which had 
negative values in mass_weights_in.  Therefore, this is the portion of the code that 
performs the optimization calculation.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/BrightIconSmall.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="enrichment.html"
                        title="previous chapter">Enrichment</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fluence_point.html"
                        title="next chapter">Fluence Point Class</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/libref/fuel_fabrication.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fluence_point.html" title="Fluence Point Class"
             >next</a> |</li>
        <li class="right" >
          <a href="enrichment.html" title="Enrichment"
             >previous</a> |</li>
        <li><a href="../index.html">bright v0.6 documentation</a> &raquo;</li>
          <li><a href="index.html" >Library Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008 - 2011, Anthony Scopatz.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>